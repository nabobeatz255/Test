<!doctype html>
<html lang=en>
  <head>
    <meta charset=UTF-8> 
    <meta name=viewport content="width=device-width,initial-scale=1">
    <meta name="description" content="Nabogaming - Ulimwengu bora wa online games, kushinda zawadi, na kufurahia burudani ya michezo mtandaoni. Jiunge nasi leo!">
    <meta name="keywords" content="Nabogaming, Michezo, Games Mtandaoni, Zawadi, Michezo ya ushindani, Ushindi, Michezo ya Mtandaoni">
    <meta name="author" content="Nabogaming">
    <meta property="og:title" content="Nabogaming">
    <meta property="og:description" content="Nabogaming furaha ya kushindana michezo ya online na kushinda zawadi kubwa kwenye Nabogaming. Usikose nafasi yako ya ushindi!">
    <meta property="og:image" content="https://nabogaming.com/1.png">
    <meta property="og:url" content="https://nabogaming.com">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Nabogaming">
    <meta name="twitter:description" content="Jiunge na Nabogaming kwa uzoefu bora wa kushindana michezo mtandaoni. Furahia ushindi leo!">
    <meta name="twitter:image" content="https://nabogaming.com/logo.png">
    <link rel="canonical" href="https://nabogaming.com">
    <link rel="icon" href="logo.png" type="image/x-icon">
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="logo.png" sizes="192x192">
  <link rel="icon" href="logo.png" sizes="512x512">
  
  <title>Nabogaming 2.5</title>
    <link rel=stylesheet href=app.css>
    <link rel=stylesheet href=2.css>
    <link rel=stylesheet href=remixicon.min.css>
<style>
  .follow-button {
    font-size: 14px;
    border-radius: 6px;
    padding: 6px 9px;
    color: white;
    background-color: #121212;
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }
  
  .following-button {
    font-size: 14px;
    border-radius: 6px;
    padding: 6px 9px;
    color: #242424;
    font-weight: bold;
    background-color: white;
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }
</style>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";
        import { getDatabase, ref, set, update, get, child } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyC_VKdV-KsIzUiOb7jFLsYXdTsuGkLiS-Q",
            authDomain: "register-71bde.firebaseapp.com",
            databaseURL: "https://register-71bde-default-rtdb.firebaseio.com",
            projectId: "register-71bde",
            storageBucket: "register-71bde.appspot.com",
            messagingSenderId: "412548441298",
            appId: "1:412548441298:web:e0fb2b6c5fbd4af7d0b90b",
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const auth = getAuth();

        const showToast = (message, type = 'info') => {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 10000);
        };

        const displayUserDetails = (user) => {
            if (user) {
                const userNameElement = document.querySelector('.user-name');
                if (userNameElement) userNameElement.textContent = user.displayName || 'Anonymous';
            } else {
                showToast("No user is signed in.", "error");
            }
        };

        onAuthStateChanged(auth, (user) => {
            displayUserDetails(user);
            if (user) {
                // Fetch the follow status after the user logs in
                updateFollowButton(user);
            }
        });

        // Fetch follower count and update the UI
        async function updateFollowersCount(profileName) {
            const profileRef = ref(db, 'profiles/' + profileName + '/followers');
            const profileSnap = await get(profileRef);
            const followers = profileSnap.exists() ? profileSnap.val() : [];
            const followersCount = followers.length;
            document.querySelector('.post-time').textContent = `${followersCount} Followers`;
        }

        // Check if the current user follows the profile and update the button
        async function updateFollowButton(user) {
            const profileName = document.querySelector('.profile-name').textContent;
            const userRef = ref(db, 'users/' + user.uid + '/following');
            const userSnap = await get(userRef);
            const following = userSnap.exists() ? userSnap.val() : [];

            const followButton = document.querySelector('.follow-button');
            if (following.includes(profileName)) {
                followButton.classList.remove('follow-button');
                followButton.classList.add('following-button');
                followButton.textContent = 'Following';
            }
        }

        async function toggleFollow(button) {
            const profileName = button.closest('.post-header').querySelector('.profile-name').textContent;
            const user = auth.currentUser;

            if (!user) {
                showToast('You must be logged in to follow users', 'error');
                return;
            }

            const userRef = ref(db, 'users/' + user.uid);
            const profileRef = ref(db, 'profiles/' + profileName);

            if (button.classList.contains('follow-button')) {
                button.classList.remove('follow-button');
                button.classList.add('following-button');
                button.textContent = 'Following';

                await update(userRef, {
                    following: (following) => following ? [...following, profileName] : [profileName]
                });
                await update(profileRef, {
                    followers: (followers) => followers ? [...followers, user.uid] : [user.uid]
                });
            } else {
                button.classList.remove('following-button');
                button.classList.add('follow-button');
                button.textContent = 'Follow';

                await update(userRef, {
                    following: (following) => following.filter(f => f !== profileName)
                });
                await update(profileRef, {
                    followers: (followers) => followers.filter(f => f !== user.uid)
                });
            }

            // Update followers count after following/unfollowing
            updateFollowersCount(profileName);
        }

        async function toggleLike(button) {
            const postId = button.getAttribute('data-post-id');
            const user = auth.currentUser;
            if (!user) {
                showToast('You must be logged in to like posts', 'error');
                return;
            }

            const postRef = ref(db, 'posts/' + postId);
            const postSnap = await get(postRef);

            let likesCount = postSnap.exists() ? postSnap.val().likesCount || 0 : 0;
            const isLiked = postSnap.exists() && postSnap.val().likes && postSnap.val().likes[user.uid];

            if (isLiked) {
                await update(postRef, {
                    likesCount: likesCount - 1,
                    [`likes/${user.uid}`]: null
                });
                button.classList.remove('ri-heart-fill');
                button.classList.add('ri-heart-line');
                document.getElementById(`like-count-${postId}`).textContent = likesCount - 1;
            } else {
                await update(postRef, {
                    likesCount: likesCount + 1,
                    [`likes/${user.uid}`]: true
                });
                button.classList.remove('ri-heart-line');
                button.classList.add('ri-heart-fill');
                document.getElementById(`like-count-${postId}`).textContent = likesCount + 1;
            }
        }

        // Call this on page load to initialize followers count
        const profileName = document.querySelector('.profile-name').textContent;
        updateFollowersCount(profileName);

    </script>



    </head>
    
<body>

<div class=dashboard  id="app">
     <nav class="sidebar desktop-sidebar">
<h2>Dashboard</h2>
<ul>
  <li><a onclick='navigateTo("home")'>Home</a></li>
  <li><a onclick='navigateTo("games")'>Events</a></li>
  <li><a onclick='navigateTo("shop")'>Shop</a></li>
  <li><a onclick='navigateTo("policy")'>Sheria</a></li>
  <li><a onclick='navigateTo("profile")'>Profile</a></li>

</ul>

    </nav>
    <div class=main-content>
        <header class=header>
    <div class=logo>
<img src=logo.png alt=Logo>
    </div>

    <div class=icons style="margin-top: -17px">
<div class="icon-container" style="margin-right:0;border:1px solid #ddd;border-radius:5px;padding: 5px 5px 3px">
  <i class="ri-notification-line" id="toggleNotify" style="font-size: 20px;"></i>
  <span class="badger">1</span>
</div>

<!--div style="border:1px solid #ddd;border-radius:5px;margin-top:17px;padding: 5px 5px 3px">
 <i class=ri-dashboard-line onclick="openmodali()" style="	font-size: 20px;margin-top:17px"></i></div-->
 <div style="border:1px solid #ddd;border-radius:5px;margin-top:17px;padding: 5px 5px 3px">
 <i class=ri-rocket-line onclick="openModale()" style="	font-size: 20px;margin-top:17px"></i></div>
 <div style="margin-top:17px;">
<i style="color: black;	font-size: 33px;" onclick="openCreateModal()" class="ri-add-circle-fill"></i></div>
<div style="border:1px solid #ddd;border-radius:5px;margin-top:17px;padding:5px 5px 3px">
<i class=ri-bookmark-line   onclick='navigateTo("saved")' style="	font-size: 20px;"></i></div>
    </div>
  </header>
    <div class=post-grid>
    <div class="instagram-post-2">
<div class="post-header">
  <div class="profile-details">
    <div class="profile-name">
Admin 1.0
    </div>
    <div class="post-time" data-timestamp="2025-01-05T21:29:59">
Please Wait.....
    </div>
  </div>
</div>
<div class="post-image">
  <img src="post1.png" alt="Post content">
  <div class="post-badges">
    <span class="badge new"><strong>PUBGM</strong></span>
  </div>
 <div class="bottom-left-icon">
    <div id="countdown"></div>
</div>
</div>
<div class="caption">
  <span class="username">Admin 1.0</span> <span>Pubg Mobile 1v1 Inakujia Hivi Karibuni Uko Tayari?!</span>
</div>
<!--button class="join"  onclick='navigateTo("jisajili")'>Jiunge Sasa</button-->
    </div>
      <div class="instagram-post-2">
<div class="post-header">
  <div class="profile-details">
    <div class="profile-name">
Admin 1.0
    </div>
    <div class="post-time" style="line-height: 1">
Lorem ipsum <span class="username user-name"></span>username dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </div>
  </div>
</div>
<div class="post-actions">
  <div class="actions-left">
  <div class="action-item">
  <i class="ri-heart-line like-button" data-post-id="postId1"></i>
  <span class="count" id="like-count-postId1">0</span>
</div>

    <div class="action-item">
      <i class="ri-message-2-line"></i>
      <span class="count">3</span>
    </div>
  </div>
  <div class="actions-right">
    <div class="action-item">
      <i class="ri-share-line"></i>
       <span class="count">113k</span>
    </div>
  </div>
</div>
 </div>
 
 
  <div class="instagram-post-2">
<div class="post-header">
    <div class="profile-picture">
        <img src="5.png" alt="User profile picture">
      </div>
  <div class="profile-details">
    <div class="profile-name">
PUBGM
    </div>
    <div class="post-time">
0 Followers
    </div>

  </div>
  <div class="post-options">
<span class="follow-button" onclick="toggleFollow(this)">Follow</span>
<span style="font-size: 14px;border-radius:6px;padding: 6px 9px;background-color:#3aafa9;color:white">Visit Now</span>
  </div>
</div>
<div class="post-image">
  <img src="post2.png" alt="Post content">
  <div class="post-badges">
    <span class="badge new"><strong>1#</strong></span>
  </div>
 <div class="bottom-left-icon" style="margin-right:10px">
   <span>New Version Pubg Mobile</span> 
</div>
</div>

<!--button class="join"  onclick='navigateTo("jisajili")'>Jiunge Sasa</button-->
    </div>
    <div class="instagram-post-2">
<div class="post-header">
    <div class="profile-picture">
        <img src="5.png" alt="User profile picture">
      </div>
  <div class="profile-details">
    <div class="profile-name">
FREEFIRE
    </div>
    <div class="post-time">
0 Followers
    </div>

  </div>
  <div class="post-options">
<span class="follow-button" onclick="toggleFollow(this)">Follow</span>
<span style="font-size: 14px;border-radius:6px;padding: 6px 9px;background-color:#3aafa9;color:white">Visit Now</span>
  </div>
</div>
<div class="post-image">
  <img src="post1.png" alt="Post content">
  <div class="post-badges">
    <span class="badge new"><strong>1#</strong></span>
  </div>
 <div class="bottom-left-icon" style="margin-right:10px">
    <span>New Version pubg mobile</span> 
</div>
</div>

<!--button class="join"  onclick='navigateTo("jisajili")'>Jiunge Sasa</button-->
    </div>
<div class="instagram-post-2">
<div class="post-header">
    <div class="profile-picture">
        <img src="5.png" alt="User profile picture">
      </div>
  <div class="profile-details">
    <div class="profile-name">
COD MOBILE
    </div>
    <div class="post-time">
0 Followers
    </div>

  </div>
  <div class="post-options">
<span class="follow-button" onclick="toggleFollow(this)">Follow</span>
<span style="font-size: 14px;border-radius:6px;padding: 6px 9px;background-color:#3aafa9;color:white">Visit Now</span>
  </div>
</div>
<div class="post-image">
  <img src="post1.png" alt="Post content">
  <div class="post-badges">
    <span class="badge new"><strong>1#</strong></span>
  </div>
 <div class="bottom-left-icon" style="margin-right:10px">
    <marquee>New Version pubg mobile gameplay na battles zitakujia hivi karibuni, efootball tournment pia inakujia hivi karibuni</marquee>
</div>
</div>

<!--button class="join"  onclick='navigateTo("jisajili")'>Jiunge Sasa</button-->
    </div>
<div class="instagram-post-2">
<div class="post-header">
    <div class="profile-picture">
        <img src="5.png" alt="User profile picture">
      </div>
  <div class="profile-details">
    <div class="profile-name">
PUBGM
    </div>
    <div class="post-time">
0 Followers
    </div>

  </div>
  <div class="post-options">
<span class="follow-button" onclick="toggleFollow(this)">Follow</span>
<span style="font-size: 14px;border-radius:6px;padding: 6px 9px;background-color:#3aafa9;color:white">Visit Now</span>
  </div>
</div>
<div class="post-image">
  <img src="post1.png" alt="Post content">
  <div class="post-badges">
    <span class="badge new"><strong>1#</strong></span>
  </div>
 <div class="bottom-left-icon" style="margin-right:10px">
    <marquee>New Version pubg mobile gameplay na battles zitakujia hivi karibuni, efootball tournment pia inakujia hivi karibuni</marquee>
</div>
</div>

<!--button class="join"  onclick='navigateTo("jisajili")'>Jiunge Sasa</button-->
    </div>
<div class="instagram-post-2">
<div class="post-header">
    <div class="profile-picture">
        <img src="5.png" alt="User profile picture">
      </div>
  <div class="profile-details">
    <div class="profile-name">
PUBGM
    </div>
    <div class="post-time">
0 Followers
    </div>

  </div>
  <div class="post-options">
<span class="follow-button" onclick="toggleFollow(this)">Follow</span>
<span style="font-size: 14px;border-radius:6px;padding: 6px 9px;background-color:#3aafa9;color:white">Visit Now</span>
  </div>
</div>
<div class="post-image">
  <img src="post1.png" alt="Post content">
  <div class="post-badges">
    <span class="badge new"><strong>1#</strong></span>
  </div>
 <div class="bottom-left-icon" style="margin-right:10px">
    <marquee>New Version pubg mobile gameplay na battles zitakujia hivi karibuni, efootball tournment pia inakujia hivi karibuni</marquee>
</div>
</div>

<!--button class="join"  onclick='navigateTo("jisajili")'>Jiunge Sasa</button-->
    </div>
  </div>
  </div>
  </div>



<script>
  function toggleFollow(button) {
    if (button.classList.contains('follow-button')) {
      button.classList.remove('follow-button');
      button.classList.add('following-button');
      button.textContent = 'Following';
    } else {
      button.classList.remove('following-button');
      button.classList.add('follow-button');
      button.textContent = 'Follow';
    }
  }
</script>

</body>
</html>